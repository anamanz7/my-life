document.addEventListener("DOMContentLoaded",function(){const e=document.querySelectorAll(".carousel-slide"),t=document.querySelectorAll(".indicator"),o=document.querySelector(".carousel-control.prev"),n=document.querySelector(".carousel-control.next");let c,s=0;function a(o){s=o>=e.length?0:o<0?e.length-1:o,e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),e[s].classList.add("active"),t[s].classList.add("active")}function r(){a(s+1)}function i(){a(s-1)}function d(){c=setInterval(r,5e3)}function l(){clearInterval(c)}function u(){l(),d()}if(n&&n.addEventListener("click",()=>{r(),u()}),o&&o.addEventListener("click",()=>{i(),u()}),t.forEach((e,t)=>{e.addEventListener("click",()=>{a(t),u()})}),e.length>0){d();const e=document.querySelector(".carousel-container");e&&(e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",d))}document.addEventListener("keydown",e=>{"ArrowLeft"===e.key?(i(),u()):"ArrowRight"===e.key&&(r(),u())});let m=0,p=0;const f=document.querySelector(".carousel-slides");f&&(f.addEventListener("touchstart",e=>{m=e.changedTouches[0].screenX}),f.addEventListener("touchend",e=>{p=e.changedTouches[0].screenX,function(){const e=50,t=m-p;Math.abs(t)>e&&(t>0?r():i(),u())}()}));const g=document.getElementById("mobile-menu-toggle"),v=document.getElementById("mobile-menu"),h=document.body;if(g&&v){g.addEventListener("click",function(e){e.preventDefault(),h.classList.toggle("menu-open"),v.classList.toggle("show-menu"),g.classList.toggle("active")});v.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(){h.classList.remove("menu-open"),v.classList.remove("show-menu"),g.classList.remove("active")})}),document.addEventListener("click",function(e){v.contains(e.target)||g.contains(e.target)||(h.classList.remove("menu-open"),v.classList.remove("show-menu"),g.classList.remove("active"))})}const y=document.querySelector("header");document.querySelector("header h1");let L=0;window.addEventListener("scroll",function(){const e=window.pageYOffset;e>200?y.classList.add("scrolled"):y.classList.remove("scrolled"),L=e}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if("#"===t||""===t)return;e.preventDefault();const o=document.querySelector(t);if(o){const e=y.offsetHeight,t=o.offsetTop-e;window.scrollTo({top:t,behavior:"smooth"})}})});const E=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("fade-in-visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".portfolio-item, .fade-in-element").forEach(e=>{e.classList.add("fade-in"),E.observe(e)}),document.querySelectorAll("section").forEach(e=>{E.observe(e)});const w=document.getElementById("hero");w&&window.addEventListener("scroll",function(){const e=window.pageYOffset;w.style.transform=`translateY(${.5*e}px)`});const I=document.querySelectorAll("img[data-src]"),O=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target;o.src=o.dataset.src,o.classList.add("loaded"),t.unobserve(o)}})});I.forEach(e=>O.observe(e));let b;window.innerWidth<=768&&w&&(w.style.transform="none"),window.addEventListener("resize",function(){clearTimeout(b),b=setTimeout(function(){window.innerWidth>768&&(h.classList.remove("menu-open"),v&&v.classList.remove("show-menu"),g&&g.classList.remove("active"))},250)}),setTimeout(function(){h.classList.add("loaded")},100)});const projectsData={"mas-creation":{title:"MAS Creation",year:"2024",category:"Proyecto Arquitectónico",heroImage:"PORTFOLIO/MAS-CREATION/images/moodboard.jpg",description:"\n            <p>MAS Creation es un proyecto arquitectónico integral que abarca desde el concepto inicial hasta la documentación técnica completa. Este proyecto representa un enfoque holístico del diseño, combinando elementos estéticos con soluciones funcionales.</p>\n            <p>El desarrollo incluye la creación de moodboards conceptuales, alzados detallados en color, planos de cubierta, especificaciones de acabados y bocetos preliminares. Cada elemento ha sido cuidadosamente diseñado para crear espacios que equilibran belleza y practicidad.</p>\n            <p>La documentación técnica refleja un proceso de diseño meticuloso, donde cada detalle ha sido considerado para garantizar la viabilidad constructiva y la coherencia estética del proyecto.</p>\n        ",images:[{src:"PORTFOLIO/MAS-CREATION/images/moodboard.jpg",caption:"Moodboard - Concepto y paleta de materiales"},{src:"PORTFOLIO/MAS-CREATION/images/alzado-color-a.jpg",caption:"Alzado Color A - Vista frontal"},{src:"PORTFOLIO/MAS-CREATION/images/alzado-color-b.jpg",caption:"Alzado Color B - Vista posterior"},{src:"PORTFOLIO/MAS-CREATION/images/alzados-transv-color.jpg",caption:"Alzados Transversales - Secciones"},{src:"PORTFOLIO/MAS-CREATION/images/plano-cubierta-color.jpg",caption:"Plano de Cubierta - Vista superior"},{src:"PORTFOLIO/MAS-CREATION/images/plano-acabados-color.jpg",caption:"Plano de Acabados - Especificaciones"},{src:"PORTFOLIO/MAS-CREATION/images/bocetos.jpg",caption:"Bocetos - Proceso creativo"}]}};function openProject(e,t){e.preventDefault();const o=projectsData[t];if(!o)return void console.error("Proyecto no encontrado:",t);const n=document.getElementById("project-view"),c=document.getElementById("project-title"),s=document.getElementById("project-year"),a=document.getElementById("project-category"),r=document.getElementById("project-description"),i=document.getElementById("project-hero-image"),d=document.getElementById("project-breadcrumb-title"),l=document.getElementById("project-images-grid");c.textContent=o.title,s.textContent=o.year,a.textContent=o.category,r.innerHTML=o.description,i.src=o.heroImage,i.alt=o.title,d.textContent=o.title,l.innerHTML="",o.images.forEach(e=>{const t=document.createElement("div");t.className="project-image-item",t.innerHTML=`\n            <img src="${e.src}" alt="${e.caption}" loading="lazy">\n            <p class="project-image-caption">${e.caption}</p>\n        `,l.appendChild(t)}),n.classList.add("show"),document.body.style.overflow="hidden",n.scrollTop=0,history.pushState({projectId:t},"",`#project/${t}`)}function closeProject(){document.getElementById("project-view").classList.remove("show"),document.body.style.overflow="",history.pushState(null,"","#portfolio")}document.addEventListener("keydown",function(e){if("Escape"===e.key){const e=document.getElementById("project-view");e&&e.classList.contains("show")&&closeProject()}}),window.addEventListener("popstate",function(e){const t=document.getElementById("project-view");t&&t.classList.contains("show")&&closeProject()}),window.addEventListener("load",function(){const e=window.location.hash;if(e.startsWith("#project/")){const t=e.replace("#project/","");projectsData[t]&&setTimeout(()=>{openProject({preventDefault:()=>{}},t)},100)}});